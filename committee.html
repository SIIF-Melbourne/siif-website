<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Committee</title>
    <link rel="stylesheet" href="/css/styles.css">
    <script src="/scripts/header.js" defer></script>
    <script src="/scripts/footer.js" defer></script>
    <script>
        const htmlCache = {}
        const getYear = async (e, query) => {
          if (e) {
            document.querySelectorAll(".year-picker__year--active").forEach(el =>
              el.classList.remove("year-picker__year--active")
            );

            e.currentTarget.classList.add("year-picker__year--active");
          }

          if (!(query in htmlCache)) {
            // document.querySelector(".removeme").style.display = "";
            const response = await fetch(`https://lshtgdpdskhqqxdcwpjo.supabase.co/functions/v1/notion-integration?SEARCH_QUERY=${encodeURIComponent(query)}`)

            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
  
            htmlCache[query] = await response.text();
          }

          console.log(`adding ${query}`)
          document.querySelector(".committee").innerHTML = htmlCache[query]
          // document.querySelector(".removeme").style.display = "none";
        }

        getYear(null, "2026 Summer")
    </script>
</head>
<body>
    <header></header>
    
    <div class="committee-hero">
    <h1>Our Committee</h1>
    <p>Meet the dedicated individuals behind SIIF. Our diverse team combines passion for finance with a commitment to social impact. Together, we're building a community where innovation meets purpose, and where tomorrow's leaders develop the skills to make meaningful change in the financial world and beyond.</p>
</div>
    <div class="year-picker">
      <p class="year-picker__year" onmouseup="getYear(event, '2025 Sem 2')">2025</p>
      <p class="year-picker__year year-picker__year--active" onmouseup="getYear(event, '2026 Summer')">2026</p>
    </div>
    <!-- <h2 class="removeme">Loading</h2> -->
    <section class="committee">
    </section>

    <footer></footer>

</body>
</html>
